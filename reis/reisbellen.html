<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Telefonisch boeken (Twilio)</title>

  <link rel="stylesheet" href="/assets/css/core.css" />
  <link rel="stylesheet" href="/assets/css/reis.css" />
</head>

<body class="reis">
  <div id="nav-placeholder"></div>

  <main class="reis-call">
    <!-- HERO -->
    <header class="call-hero">
      <div class="call-hero-inner">
        <div>
          <p class="booking-eyebrow">Service</p>
          <h1>Telefonisch boeken</h1>
          <p class="booking-lead">
            Vul je telefoonnummer in, ontvang een belletje, spreek een zin in, en zie de transcriptie verschijnen.
          </p>

          <div class="call-badges">
            <span class="badge">üìû Twilio call</span>
            <span class="badge">üó£Ô∏è Speech-to-text</span>
            <span class="badge">üßæ JSON intent</span>
          </div>
        </div>

        <div class="call-hero-note">
          <div class="map-note-card">
            <strong>Proof-of-tech</strong>
            <p class="muted" style="margin:6px 0 0;">
              We bellen alleen NL-nummers. Spreek rustig en duidelijk voor betere herkenning.
            </p>
          </div>
        </div>
      </div>
    </header>

    <section class="call-layout">
      <!-- LEFT -->
      <section class="card">
        <div class="card-header">
          <div>
            <h2 class="card-title">1) Bel mij</h2>
            <p class="card-subtitle">Start de demo en volg de status hieronder.</p>
          </div>
        </div>

        <form id="callForm" class="stack-sm">
          <div class="call-row">
            <div class="call-field">
              <label for="phoneInput">
                Telefoonnummer
                <span class="help-text">(bijv. 0612345678)</span>
              </label>
              <input
                id="phoneInput"
                name="phone"
                type="tel"
                inputmode="tel"
                autocomplete="tel"
                placeholder="0612345678"
                required
              />
              <div class="help-text muted call-help-inline">
                Tip: neem op en spreek rustig. Na een paar seconden verschijnt de tekst.
              </div>
            </div>

            <div class="call-buttons">
              <button id="callBtn" type="submit" class="btn btn-primary">Bel mij</button>
              <button id="resetBtn" type="button" class="btn btn-secondary">Reset</button>
            </div>
          </div>

          <div id="spinner" class="hidden call-spinner" aria-live="polite">
            <div class="loader2" aria-label="Laden"></div>
            <div class="help-text" style="margin-top:10px;">Bezig met bellen / luisteren‚Ä¶</div>
          </div>

          <div id="status" class="alert hidden" style="margin-top:12px;"></div>
        </form>

        <!-- Call info -->
        <section class="card call-info">
          <div class="card-header">
            <div class="call-toolbar">
              <div>
                <h2 class="card-title">Call info</h2>
                <p class="card-subtitle">Handig voor debug tijdens demo.</p>
              </div>

              <div class="call-toolbar-right">
                <span class="pill">
                  <span class="muted">Status:</span>
                  <span id="callStatusLabel" class="mono">‚Äî</span>
                </span>
              </div>
            </div>
          </div>

          <div class="stack-sm">
            <div class="help-text">CallSid</div>
            <div id="callSid" class="mono">‚Äî</div>

            <div class="help-text" style="margin-top:10px;">Gebeld nummer</div>
            <div id="callTo" class="mono">‚Äî</div>
          </div>
        </section>
      </section>

      <!-- RIGHT -->
      <section class="card">
        <div class="card-header">
          <div>
            <h2 class="card-title">2) Transcript</h2>
            <p class="card-subtitle">Wat je inspreekt verschijnt hier zodra Twilio de speech herkent.</p>
          </div>
        </div>

        <div class="stack-sm">
          <label for="transcriptBox">Herkenning (Speech-to-Text)</label>
          <textarea
            id="transcriptBox"
            class="transcript"
            placeholder="Nog geen transcript. Klik op ‚ÄúBel mij‚Äù, neem op en spreek een zin in."
            readonly
          ></textarea>

          <div class="button-container">
            <button id="copyBtn" type="button" class="btn btn-ghost">Kopieer tekst</button>
          </div>

          <div class="help-text muted">
            Let op: dit is een proof-of-tech. Herkenning kan vari√´ren afhankelijk van achtergrondgeluid.
          </div>

          <label for="aiBox">Voorkeur (JSON)</label>
          <textarea
            id="aiBox"
            class="transcript"
            placeholder="Nog geen uiteindelijke voorkeur."
            readonly
          ></textarea>
        </div>
      </section>
    </section>
  </main>

  <script src="/assets/js/nav-reis.js" defer></script>
  <script src="/assets/js/reisbellen.js" defer></script>
</body>
</html>