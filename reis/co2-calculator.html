<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CO₂-berekening</title>

  <link rel="stylesheet" href="/assets/css/core.css" />
  <link rel="stylesheet" href="/assets/css/reis.css" />
</head>

<body class="reis">
  <div id="nav-placeholder"></div>

  <main class="page">
    <header class="page-title">
      <h1>CO₂-berekening</h1>
      <p>Bereken een schatting van de uitstoot per passagier voor een vlucht op basis van route en (optioneel) extra details.</p>
    </header>

    <section class="grid-2">
      <!-- LEFT: Form -->
      <div class="card">
        <div class="card-header">
          <div>
            <h2 class="card-title">Vluchtgegevens</h2>
            <p class="card-subtitle">Velden met * zijn verplicht.</p>
          </div>

          <!-- Info tooltip (CSS-based, no JS required) -->
          <div class="info-container" aria-label="Uitleg formule">
            <div class="info-icon">i</div>
            <div class="tooltip">
              <strong>Gebruikte formule (vereenvoudigd)</strong><br><br>
              Uitstoot per passagier = afstand × passagierfactor × (1 / capaciteit) × emissiefactor<br><br>
              Bronnen:<br>
              - Passagierfactor:
              <a href="https://co2emissiefactoren.nl/factoren/2024/29/65/brandstoffen-voertuigen-fossiele-brandstoffen-kerosine-jet-a1/" target="_blank" rel="noopener noreferrer">
                CO₂emissiefactoren.nl
              </a><br>
              - Emissiefactor:
              <a href="https://www.upinthesky.nl/2019/06/06/lufthansa-passagier-verbruikt-365-liter-kerosine-per-100-kilometer/" target="_blank" rel="noopener noreferrer">
                Up in the Sky
              </a>
            </div>
          </div>
        </div>

        <p class="help-text" style="margin-top:0;">
          Hoe meer je invult, hoe accurater de schatting. Selecteer minimaal een vertrek- en aankomstluchthaven.
        </p>

        <label for="fly_from">Vertrek van *</label>
        <select name="fly_from" id="fly_from">
          <option value="" disabled selected>Selecteer luchthaven</option>
        </select>

        <label for="fly_to">Aankomst op *</label>
        <select name="fly_to" id="fly_to" disabled>
          <option value="" disabled selected>Selecteer eerst vertrek</option>
        </select>

        <label for="airline_name">Luchtvaartmaatschappij</label>
        <input type="text" id="airline_name" name="airline_name" placeholder="Bijv. KLM" autocomplete="off" />
        <div id="airline_suggestions" class="suggestions" style="display:none;"></div>

        <div class="flex-row">
          <div class="field">
            <label for="departure_date">Vertrekdatum</label>
            <input type="date" id="departure_date" name="departure_date" />
          </div>
          <div class="field">
            <label for="departure_time">Vertrektijdstip</label>
            <input type="time" id="departure_time" name="departure_time" />
          </div>
        </div>

        <label for="flight_number">Vluchtnummer</label>
        <input type="text" id="flight_number" name="flight_number" placeholder="Bijv. KL1234" />

        <div class="button-container">
          <button id="btn-calc" class="btn btn-primary" type="button">Bereken uitstoot</button>
          <button id="btn-reset" class="btn btn-secondary" type="button">Reset</button>
        </div>

        <div id="form-alert" class="alert alert-danger" style="display:none;"></div>
      </div>

      <!-- RIGHT: Result -->
      <div class="card">
        <div class="card-header">
          <div>
            <h2 class="card-title">Resultaat</h2>
            <p class="card-subtitle">Hier verschijnt de berekening zodra je op “Bereken uitstoot” klikt.</p>
          </div>
        </div>

        <div id="result" class="result-box">
          <div class="alert" style="margin:0;">
            Nog geen berekening uitgevoerd.
          </div>
        </div>

        <hr />

        <div class="stack-sm">
          <h3 style="margin:0;">Toelichting</h3>
          <p style="margin:0;">
            Dit is een schatting en kan afwijken van de werkelijke uitstoot, afhankelijk van toesteltype,
            bezettingsgraad, route en operationele omstandigheden.
          </p>
        </div>
      </div>
    </section>
  </main>

  <script src="/assets/js/nav-reis.js" defer></script>
  <script src="/assets/js/co2-calculator.js" defer></script>

  <!-- Kleine page-specific styling voor suggestions (mag later naar reis.css) -->
  <style>
    .suggestions{
      margin-top: 8px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    .suggestions div{
      padding: 10px 12px;
      cursor: pointer;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .suggestions div:hover{
      background: rgba(255,255,255,.07);
    }
    .suggestions div:last-child{
      border-bottom: none;
    }
  </style>
</body>
</html>